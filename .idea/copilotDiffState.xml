<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/assets/components/custom/projects/kanban-board/task-card/task-card.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/assets/components/custom/projects/kanban-board/task-card/task-card.tsx" />
              <option name="originalContent" value="import {useSortable} from &quot;@dnd-kit/sortable&quot;;&#10;import {CSS} from &quot;@dnd-kit/utilities&quot;;&#10;import {GripVertical} from &quot;lucide-react&quot;;&#10;import {memo, useMemo} from &quot;react&quot;;&#10;import {Badge} from &quot;@/components/ui/badge&quot;;&#10;import {Card, CardDescription, CardHeader, CardTitle,} from &quot;@/components/ui/card&quot;;&#10;import {getPriorityColor, getPriorityIcon} from &quot;@/lib/tasks&quot;;&#10;import type {Task, TaskColumn} from &quot;@/types&quot;;&#10;import {TaskCardMenu} from &quot;./task-card-menu&quot;;&#10;import {TaskCardContent} from &quot;./task-card-content&quot;;&#10;import {cn} from &quot;@/lib/utils.ts&quot;;&#10;&#10;export type TaskCardProps = {&#10;  task: Task;&#10;  columns: TaskColumn[];&#10;  currentColumn: TaskColumn;&#10;};&#10;&#10;export const TaskCard = memo(&#10;  ({task, columns, currentColumn}: TaskCardProps) =&gt; {&#10;    const {&#10;      attributes,&#10;      listeners,&#10;      setNodeRef,&#10;      transform,&#10;      transition,&#10;      isDragging,&#10;    } = useSortable({&#10;      id: `task-${task.id}`,&#10;      data: {&#10;        type: &quot;task&quot;,&#10;        task,&#10;      },&#10;    });&#10;&#10;    const style = {&#10;      transform: CSS.Transform.toString(transform),&#10;      transition,&#10;    };&#10;&#10;    const maxColumnsScore = useMemo(&#10;      () =&gt; Math.max(...columns.map((column) =&gt; column.score)),&#10;      [columns],&#10;    );&#10;&#10;    const isCompleted = useMemo(&#10;      () =&gt; currentColumn.score === maxColumnsScore,&#10;      [currentColumn.score, maxColumnsScore],&#10;    );&#10;&#10;    const isTaskOverdue = useMemo(() =&gt; {&#10;      return (&#10;        task.dueAt !== null &amp;&amp;&#10;        new Date(task.dueAt) &lt; new Date() &amp;&amp;&#10;        currentColumn.score &lt; maxColumnsScore&#10;      );&#10;    }, [task.dueAt, currentColumn.score, maxColumnsScore]);&#10;&#10;    return (&#10;      &lt;Card&#10;        ref={setNodeRef}&#10;        style={style}&#10;        className={cn(&#10;          &quot;mb-2 sm:mb-3 transition-all bg-card&quot;,&#10;          isDragging ? &quot;opacity-50 shadow-lg z-50&quot; : &quot;hover:shadow-md&quot;,&#10;          isCompleted &amp;&amp; &quot;opacity-60 grayscale&quot;,&#10;        )}&#10;      &gt;&#10;        &lt;CardHeader className=&quot;pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6&quot;&gt;&#10;          &lt;div className=&quot;flex items-start justify-between&quot;&gt;&#10;            &lt;div className=&quot;flex items-center gap-1 sm:gap-2&quot;&gt;&#10;              {getPriorityIcon(task.priority)}&#10;              &lt;Badge&#10;                variant=&quot;outline&quot;&#10;                className={`text-xs ${getPriorityColor(task.priority)}`}&#10;              &gt;&#10;                &lt;span className=&quot;hidden sm:inline&quot;&gt;{task.priority}&lt;/span&gt;&#10;                &lt;span className=&quot;sm:hidden&quot;&gt;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{task.priority.charAt(0).toUpperCase()}&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;/span&gt;&#10;              &lt;/Badge&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div className=&quot;flex items-center gap-1&quot;&gt;&#10;              &lt;TaskCardMenu {...{task, columns, currentColumn}} /&gt;&#10;              &lt;div&#10;                className=&quot;cursor-grab active:cursor-grabbing p-1 hover:bg-muted/50 rounded transition-colors&quot;&#10;                onClick={(e) =&gt; e.stopPropagation()}&#10;                {...listeners}&#10;                {...attributes}&#10;              &gt;&#10;                &lt;GripVertical className=&quot;w-3 h-3 text-muted-foreground&quot;/&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;CardTitle&#10;            className={cn(&#10;              &quot;text-xs sm:text-sm font-medium leading-tight cursor-pointer hover:text-primary transition-colors&quot;,&#10;              isCompleted &amp;&amp; &quot;line-through text-muted-foreground&quot;,&#10;            )}&#10;            onClick={() =&gt; console.log(&quot;Open task&quot;, task.id)}&#10;          &gt;&#10;            {task.name}&#10;          &lt;/CardTitle&gt;&#10;          &lt;CardDescription className={cn(&#10;            &quot;text-xs text-muted-foreground line-clamp-2&quot;,&#10;            isCompleted &amp;&amp; &quot;line-through&quot;,&#10;          )}&gt;&#10;            {task.description}&#10;          &lt;/CardDescription&gt;&#10;        &lt;/CardHeader&gt;&#10;&#10;        &lt;TaskCardContent task={task} isOverdue={isTaskOverdue}/&gt;&#10;      &lt;/Card&gt;&#10;    );&#10;  },&#10;);&#10;" />
              <option name="updatedContent" value="import {useSortable} from &quot;@dnd-kit/sortable&quot;;&#10;import {CSS} from &quot;@dnd-kit/utilities&quot;;&#10;import {GripVertical} from &quot;lucide-react&quot;;&#10;import {memo, useMemo} from &quot;react&quot;;&#10;import {Badge} from &quot;@/components/ui/badge&quot;;&#10;import {Card, CardDescription, CardHeader, CardTitle,} from &quot;@/components/ui/card&quot;;&#10;import {getPriorityColor, getPriorityIcon} from &quot;@/lib/tasks&quot;;&#10;import type {Task, TaskColumn} from &quot;@/types&quot;;&#10;import {TaskCardMenu} from &quot;./task-card-menu&quot;;&#10;import {TaskCardContent} from &quot;./task-card-content&quot;;&#10;import {cn} from &quot;@/lib/utils.ts&quot;;&#10;&#10;export type TaskCardProps = {&#10;  task: Task;&#10;  columns: TaskColumn[];&#10;  currentColumn: TaskColumn;&#10;};&#10;&#10;export const TaskCard = memo(&#10;  ({task, columns, currentColumn}: TaskCardProps) =&gt; {&#10;    const {&#10;      attributes,&#10;      listeners,&#10;      setNodeRef,&#10;      transform,&#10;      transition,&#10;      isDragging,&#10;    } = useSortable({&#10;      id: `task-${task.id}`,&#10;      data: {&#10;        type: &quot;task&quot;,&#10;        task,&#10;      },&#10;    });&#10;&#10;    const style = {&#10;      transform: CSS.Transform.toString(transform),&#10;      transition,&#10;    };&#10;&#10;    const maxColumnsScore = useMemo(&#10;      () =&gt; Math.max(...columns.map((column) =&gt; column.score)),&#10;      [columns],&#10;    );&#10;&#10;    const isCompleted = useMemo(&#10;      () =&gt; currentColumn.score === maxColumnsScore,&#10;      [currentColumn.score, maxColumnsScore],&#10;    );&#10;&#10;    const isTaskOverdue = useMemo(() =&gt; {&#10;      return (&#10;        task.dueAt !== null &amp;&amp;&#10;        new Date(task.dueAt) &lt; new Date() &amp;&amp;&#10;        currentColumn.score &lt; maxColumnsScore&#10;      );&#10;    }, [task.dueAt, currentColumn.score, maxColumnsScore]);&#10;&#10;    return (&#10;      &lt;Card&#10;        ref={setNodeRef}&#10;        style={style}&#10;        className={cn(&#10;          &quot;mb-2 sm:mb-3 transition-all bg-card&quot;,&#10;          isDragging ? &quot;opacity-50 shadow-lg z-50&quot; : &quot;hover:shadow-md&quot;,&#10;          isCompleted &amp;&amp; &quot;opacity-60 grayscale&quot;,&#10;        )}&#10;      &gt;&#10;        &lt;CardHeader className=&quot;pb-2 sm:pb-3 px-3 sm:px-6 pt-3 sm:pt-6&quot;&gt;&#10;          &lt;div className=&quot;flex items-start justify-between&quot;&gt;&#10;            &lt;div className=&quot;flex items-center gap-1 sm:gap-2&quot;&gt;&#10;              {getPriorityIcon(task.priority)}&#10;              &lt;Badge&#10;                variant=&quot;outline&quot;&#10;                className={`text-xs ${getPriorityColor(task.priority)}`}&#10;              &gt;&#10;                &lt;span className=&quot;hidden sm:inline&quot;&gt;{task.priority}&lt;/span&gt;&#10;                &lt;span className=&quot;sm:hidden&quot;&gt;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{task.priority.charAt(0).toUpperCase()}&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;/span&gt;&#10;              &lt;/Badge&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div className=&quot;flex items-center gap-1&quot;&gt;&#10;              &lt;TaskCardMenu {...{task, columns, currentColumn}} /&gt;&#10;              &lt;div&#10;                className=&quot;cursor-grab active:cursor-grabbing p-1 hover:bg-muted/50 rounded transition-colors&quot;&#10;                onClick={(e) =&gt; e.stopPropagation()}&#10;                {...listeners}&#10;                {...attributes}&#10;              &gt;&#10;                &lt;GripVertical className=&quot;w-3 h-3 text-muted-foreground&quot;/&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;CardTitle&#10;            className={cn(&#10;              &quot;text-xs sm:text-sm font-medium leading-tight cursor-pointer hover:text-primary transition-colors&quot;,&#10;              isCompleted &amp;&amp; &quot;line-through text-muted-foreground&quot;,&#10;            )}&#10;            onClick={() =&gt; console.log(&quot;Open task&quot;, task.id)}&#10;          &gt;&#10;            {task.name}&#10;          &lt;/CardTitle&gt;&#10;          &lt;CardDescription className={cn(&#10;            &quot;text-xs text-muted-foreground line-clamp-2&quot;,&#10;            isCompleted &amp;&amp; &quot;line-through&quot;,&#10;          )}&gt;&#10;            {task.description}&#10;          &lt;/CardDescription&gt;&#10;        &lt;/CardHeader&gt;&#10;&#10;        &lt;TaskCardContent task={task} isOverdue={isTaskOverdue}/&gt;&#10;      &lt;/Card&gt;&#10;    );&#10;  },&#10;);" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>